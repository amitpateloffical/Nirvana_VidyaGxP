{
    "sourceFile": "resources/views/frontend/ctms/clinicalsite/audit-trial.blade.php",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 5,
            "patches": [
                {
                    "date": 1718175299572,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1718175309357,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -243,9 +243,9 @@\n                             </td>\r\n                             <td>\r\n                                 <div>\r\n                                     <strong> Data Field Name :</strong><a\r\n-                                        href=\"{{ url('rcms/MarketComplaintAuditReport/',$document->id)}}\">{{ $dataDemo->activity_type ? $dataDemo->activity_type : 'Not Applicable' }}</a>\r\n+                                        href=\"{{ url('rcms/marketcomplaint/MarketComplaintAuditReport/',$document->id)}}\">{{ $dataDemo->activity_type ? $dataDemo->activity_type : 'Not Applicable' }}</a>\r\n                                 </div>\r\n                                 <div style=\"margin-top: 5px;\">\r\n                                     @if($dataDemo->activity_type == \"Activity Log\")\r\n                                         <strong>Change From :</strong>{{ $dataDemo->change_from ? $dataDemo->change_from : 'Not Applicable' }}\r\n"
                },
                {
                    "date": 1718175319123,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -243,9 +243,9 @@\n                             </td>\r\n                             <td>\r\n                                 <div>\r\n                                     <strong> Data Field Name :</strong><a\r\n-                                        href=\"{{ url('rcms/marketcomplaint/MarketComplaintAuditReport/',$document->id)}}\">{{ $dataDemo->activity_type ? $dataDemo->activity_type : 'Not Applicable' }}</a>\r\n+                                        href=\"{{ url('/clinicalsiteAuditReport/6/',$document->id)}}\">{{ $dataDemo->activity_type ? $dataDemo->activity_type : 'Not Applicable' }}</a>\r\n                                 </div>\r\n                                 <div style=\"margin-top: 5px;\">\r\n                                     @if($dataDemo->activity_type == \"Activity Log\")\r\n                                         <strong>Change From :</strong>{{ $dataDemo->change_from ? $dataDemo->change_from : 'Not Applicable' }}\r\n"
                },
                {
                    "date": 1718175341201,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -243,9 +243,9 @@\n                             </td>\r\n                             <td>\r\n                                 <div>\r\n                                     <strong> Data Field Name :</strong><a\r\n-                                        href=\"{{ url('/clinicalsiteAuditReport/6/',$document->id)}}\">{{ $dataDemo->activity_type ? $dataDemo->activity_type : 'Not Applicable' }}</a>\r\n+                                        href=\"{{ url('clinicalsiteAuditReport/',$document->id)}}\">{{ $dataDemo->activity_type ? $dataDemo->activity_type : 'Not Applicable' }}</a>\r\n                                 </div>\r\n                                 <div style=\"margin-top: 5px;\">\r\n                                     @if($dataDemo->activity_type == \"Activity Log\")\r\n                                         <strong>Change From :</strong>{{ $dataDemo->change_from ? $dataDemo->change_from : 'Not Applicable' }}\r\n"
                },
                {
                    "date": 1718175347077,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -243,9 +243,9 @@\n                             </td>\r\n                             <td>\r\n                                 <div>\r\n                                     <strong> Data Field Name :</strong><a\r\n-                                        href=\"{{ url('clinicalsiteAuditReport/',$document->id)}}\">{{ $dataDemo->activity_type ? $dataDemo->activity_type : 'Not Applicable' }}</a>\r\n+                                        href=\"{{ url('rcms/marketcomplaint/MarketComplaintAuditReport/',$document->id)}}\">{{ $dataDemo->activity_type ? $dataDemo->activity_type : 'Not Applicable' }}</a>\r\n                                 </div>\r\n                                 <div style=\"margin-top: 5px;\">\r\n                                     @if($dataDemo->activity_type == \"Activity Log\")\r\n                                         <strong>Change From :</strong>{{ $dataDemo->change_from ? $dataDemo->change_from : 'Not Applicable' }}\r\n"
                },
                {
                    "date": 1718180562686,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -202,9 +202,9 @@\n                             <div style=\"margin-bottom: 5px;  font-weight: bold;\"> Originator\r\n                                 :{{ $document->initiator ? $document->initiator : '' }}</div>\r\n                             <div style=\"margin-bottom: 5px; font-weight: bold;\">Short Description :\r\n                                 {{ $document->description_gi }}</div>\r\n-                            <div style=\"margin-bottom: 5px;  font-weight: bold;\">Due Date : {{ $document->due_dat }}</div>\r\n+                            <div style=\"margin-bottom: 5px;  font-weight: bold;\">Due Date : {{ $document->due_data }}</div>\r\n \r\n                         </div>\r\n         </div>\r\n         </table>\r\n"
                }
            ],
            "date": 1718175299572,
            "name": "Commit-0",
            "content": "\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n@extends('frontend.layout.main')\r\n@section('container')\r\n    <div id=\"audit-trial\">\r\n        <div class=\"container-fluid\">\r\n            <!DOCTYPE html>\r\n            <html lang=\"en\">\r\n\r\n            <head>\r\n                <meta charset=\"UTF-8\">\r\n                <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n                <meta http-equiv=\"X-UA-Compatible\" content=\"ie=edge\">\r\n                <title>VidyaGxP - Software</title>\r\n                <link href=\"https://fonts.googleapis.com/css2?family=Roboto&display=swap\" rel=\"stylesheet\">\r\n            </head>\r\n\r\n            <style>\r\n                body {\r\n                    font-family: 'Roboto', sans-serif;\r\n                    margin: 0;\r\n                    padding: 0;\r\n                    /* min-width: 100vw; */\r\n                    min-height: 100vh;\r\n                }\r\n\r\n                .w-10 {\r\n                    width: 10%;\r\n                }\r\n\r\n                .w-20 {\r\n                    width: 20%;\r\n                }\r\n\r\n                .w-30 {\r\n                    width: 30%;\r\n                }\r\n\r\n                .w-40 {\r\n                    width: 40%;\r\n                }\r\n\r\n                .w-50 {\r\n                    width: 50%;\r\n                }\r\n\r\n                .w-60 {\r\n                    width: 60%;\r\n                }\r\n\r\n                .w-70 {\r\n                    width: 70%;\r\n                }\r\n\r\n                .w-80 {\r\n                    width: 80%;\r\n                }\r\n\r\n                .w-90 {\r\n                    width: 90%;\r\n                }\r\n\r\n                .w-100 {\r\n                    width: 100%;\r\n                }\r\n\r\n                .h-100 {\r\n                    height: 100%;\r\n                }\r\n\r\n                table,\r\n                th,\r\n                td {\r\n                    border: 1px solid black;\r\n                    border-collapse: collapse;\r\n                    font-size: 0.9rem;\r\n                }\r\n\r\n                table {\r\n                    width: 100%;\r\n                }\r\n\r\n                th,\r\n                td {\r\n                    padding: 10px;\r\n                    text-align: left;\r\n                }\r\n\r\n                header .head {\r\n                    font-weight: bold;\r\n                    text-align: center;\r\n                    font-size: 1.2rem;\r\n                }\r\n\r\n                @page {\r\n                    size: A4;\r\n                    margin-top: 160px;\r\n                    margin-bottom: 60px;\r\n                }\r\n\r\n                header {\r\n                    /* position: fixed; */\r\n                    top: -140px;\r\n                    left: 0;\r\n                    width: 100%;\r\n                    display: block;\r\n                }\r\n\r\n                footer {\r\n                    /* position: fixed; */\r\n                    bottom: -40px;\r\n                    left: 0;\r\n                    width: 100%;\r\n                }\r\n\r\n                .inner-block {\r\n                    padding: 10px;\r\n                }\r\n\r\n                .inner-block .head {\r\n                    font-weight: bold;\r\n                    font-size: 1.2rem;\r\n                    margin-bottom: 5px;\r\n                }\r\n\r\n                .inner-block .division {\r\n                    margin-bottom: 10px;\r\n                }\r\n\r\n                .first-table {\r\n                    border-top: 1px solid black;\r\n                    margin-bottom: 20px;\r\n                }\r\n\r\n                .first-table table td,\r\n                .first-table table th,\r\n                .first-table table {\r\n                    border: 0;\r\n                }\r\n\r\n                .second-table td:nth-child(1)>div {\r\n                    margin-bottom: 10px;\r\n                }\r\n\r\n                .second-table td:nth-child(1)>div:nth-last-child(1) {\r\n                    margin-bottom: 0px;\r\n                }\r\n\r\n                .table_bg {\r\n                    background: #4274da57;\r\n                }\r\n\r\n                .heading {\r\n                    border: 1px solid black;\r\n                    padding: 10px;\r\n                    margin-bottom: 10px;\r\n                    margin-top: 10px;\r\n                    background: #4274da;\r\n                }\r\n\r\n                .heading-new {\r\n                    font-size: 27px;\r\n                    color: #2f2f58;\r\n                }\r\n\r\n                .buttons-new {\r\n                    display: flex;\r\n                    justify-content: end;\r\n                    gap: 10px;\r\n                }\r\n            </style>\r\n\r\n            <body>\r\n\r\n                <header>\r\n                    <table>\r\n                        <tr>\r\n                            <div class=\"logo\">\r\n                                <img src=\"https://development.vidyagxp.com/public/user/images/logo.png\" alt=\"\"\r\n                                    class=\"w-100\">\r\n                            </div>\r\n                        </tr>\r\n                    </table>\r\n\r\n                 \r\n\r\n                    <table>\r\n                        <div class=\"heading\">\r\n\r\n                            <div class=\"heading-new\">\r\n                                Audit Trail\r\n                            </div>\r\n\r\n                            <div> <strong>Record ID.</strong> {{ str_pad($document->record, 4, '0', STR_PAD_LEFT) }}</div>\r\n                            <div style=\"margin-bottom: 5px;  font-weight: bold;\"> Originator\r\n                                :{{ $document->initiator ? $document->initiator : '' }}</div>\r\n                            <div style=\"margin-bottom: 5px; font-weight: bold;\">Short Description :\r\n                                {{ $document->description_gi }}</div>\r\n                            <div style=\"margin-bottom: 5px;  font-weight: bold;\">Due Date : {{ $document->due_date_gi }}</div>\r\n\r\n                        </div>\r\n        </div>\r\n        </table>\r\n\r\n        </header>\r\n\r\n        <div class=\"inner-block\">\r\n            <div class=\"division\">\r\n            </div>\r\n            <div class=\"second-table\">\r\n                <table>\r\n                    <tr class=\"table_bg\">\r\n                        <th>S.No</th>\r\n                        <th>Flow Changed From</th>\r\n                        <th>Flow Changed To</th>\r\n                        <th>Data Field</th>\r\n                        <th>Action Type</th>\r\n                        <th>Performer</th>\r\n                    </tr>\r\n\r\n                    <tr>\r\n                        @php\r\n                            $previousItem = null;\r\n                        @endphp\r\n\r\n                        @foreach ($audit as $audits => $dataDemo)\r\n                            <td>{{ $dataDemo ? ($audit->currentPage() - 1) * $audit->perPage() + $audits + 1 : 'Not Applicable' }}\r\n                            </td>\r\n\r\n                            <td>\r\n                                <div><strong>Changed From :</strong>{{ $dataDemo->change_from }}</div>\r\n                            </td>\r\n\r\n                            <td>\r\n                                <div><strong>Changed To :</strong>{{ $dataDemo->change_to }}</div>\r\n                            </td>\r\n                            <td>\r\n                                <div>\r\n                                    <strong> Data Field Name :</strong><a\r\n                                        href=\"{{ url('rcms/MarketComplaintAuditReport/',$document->id)}}\">{{ $dataDemo->activity_type ? $dataDemo->activity_type : 'Not Applicable' }}</a>\r\n                                </div>\r\n                                <div style=\"margin-top: 5px;\">\r\n                                    @if($dataDemo->activity_type == \"Activity Log\")\r\n                                        <strong>Change From :</strong>{{ $dataDemo->change_from ? $dataDemo->change_from : 'Not Applicable' }}\r\n                                    @else\r\n                                        <strong>Change From :</strong>{{ $dataDemo->previous ? $dataDemo->previous : 'Not Applicable' }}\r\n                                    @endif\r\n                                </div>\r\n                                <br>\r\n                                <div>\r\n                                    @if($dataDemo->activity_type == \"Activity Log\")\r\n                                        <strong>Change To :</strong>{{ $dataDemo->change_to ? $dataDemo->change_to : 'Not Applicable' }}\r\n                                    @else\r\n                                        <strong>Change To :</strong>{{ $dataDemo->current ? $dataDemo->current : 'Not Applicable' }}\r\n                                    @endif\r\n                                </div>\r\n                                <div style=\"margin-top: 5px;\">\r\n                                    <strong>Change Type :</strong>{{ $dataDemo->action_name ? $dataDemo->action_name : 'Not Applicable' }}\r\n                                </div>\r\n                            </td>\r\n                            <td>\r\n                                <div>\r\n                                    <strong> Action Name\r\n                                        :</strong>{{ $dataDemo->action ? $dataDemo->action : 'Not Applicable' }}\r\n\r\n                                </div>\r\n                            </td>\r\n                            <td>\r\n                                <div><strong> Peformed By\r\n                                        :</strong>{{ $dataDemo->user_name ? $dataDemo->user_name : 'Not Applicable' }}\r\n                                </div>\r\n                                <div style=\"margin-top: 5px;\"> <strong>Performed On\r\n                                        :</strong>{{ $dataDemo->created_at ? $dataDemo->created_at : 'Not Applicable' }}\r\n                                </div>\r\n                                <div style=\"margin-top: 5px;\"><strong> Comments\r\n                                        :</strong>{{ $dataDemo->comment ? $dataDemo->comment : 'Not Applicable' }}</div>\r\n\r\n                            </td>\r\n                    </tr>\r\n                    @endforeach\r\n                </table>\r\n            </div>\r\n        </div>\r\n        <!-- Pagination links -->\r\n        <div style=\"float: inline-end; margin: 10px;\">\r\n            <style>\r\n                .pagination>.active>span {\r\n                    background-color: #4274da !important;\r\n                    border-color: #4274da !important;\r\n                    color: #fff !important;\r\n                }\r\n\r\n                .pagination>.active>span:hover {\r\n                    background-color: #4274da !important;\r\n                    border-color: #4274da !important;\r\n                }\r\n\r\n                .pagination>li>a,\r\n                .pagination>li>span {\r\n                    color: #4274da !important;\r\n                }\r\n\r\n                .pagination>li>a:hover {\r\n                    background-color: #4274da !important;\r\n                    border-color: #4274da !important;\r\n                    color: #fff !important;\r\n                }\r\n            </style>\r\n            {{ $audit->links() }}\r\n        </div>\r\n\r\n        </body>\r\n\r\n        </html>\r\n\r\n    </div>\r\n    </div>\r\n\r\n    <div class=\"modal fade\" id=\"activity-modal\">\r\n        <div class=\"modal-dialog modal-dialog-centered modal-lg\">\r\n            <div class=\"modal-content\">\r\n\r\n                <div class=\"modal-header\">\r\n                    <h4 class=\"modal-title\">SOP-000{{ $document->id }}</h4>\r\n                    <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\"></button>\r\n                </div>\r\n\r\n                <div class=\"modal-body\">\r\n                    <div class=\"info-list\">\r\n                        <div class=\"list-item\">\r\n                            <div class=\"head\">Site/Division/Process</div>\r\n                            <div>:</div>\r\n                            <div>{{ $document->division }}/{{ $document->process }}</div>\r\n                        </div>\r\n                        <div class=\"list-item\">\r\n                            <div class=\"head\">Document Stage</div>\r\n                            <div>:</div>\r\n                            <div>{{ $document->status }}</div>\r\n                        </div>\r\n                        <div class=\"list-item\">\r\n                            <div class=\"head\">Originator</div>\r\n                            <div>:</div>\r\n                            <div>{{ $document->initiator }}</div>\r\n                        </div>\r\n                    </div>\r\n                    <div id=\"auditTableinfo\"></div>\r\n\r\n                </div>\r\n\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <script type='text/javascript'>\r\n        $(document).ready(function() {\r\n\r\n            $('#auditTable').on('click', '.viewdetails', function() {\r\n                var auditid = $(this).attr('data-id');\r\n\r\n                if (auditid > 0) {\r\n\r\n                    // AJAX request\r\n                    var url = \"{{ route('audit-details', [':auditid']) }}\";\r\n                    url = url.replace(':auditid', auditid);\r\n\r\n                    // Empty modal data\r\n                    $('#auditTableinfo').empty();\r\n\r\n                    $.ajax({\r\n                        url: url,\r\n                        dataType: 'json',\r\n                        success: function(response) {\r\n\r\n                            // Add employee details\r\n                            $('#auditTableinfo').append(response.html);\r\n\r\n                            // Display Modal\r\n                            $('#activity-modal').modal('show');\r\n                        }\r\n                    });\r\n                }\r\n            });\r\n\r\n        });\r\n    </script>\r\n@endsection"
        }
    ]
}